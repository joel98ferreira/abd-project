# Backup da base de dados
pg_dump -h server-joel -Fc tpcc > tpcc.dump

# Restaurar base de dados (a opção -c é para apagar os dados anteriores)
pg_restore -h server-joel -c -d tpcc < tpcc.dump

# Correr carga transacional (pasta: ~/tpc-c-0.1-SNAPSHOT)
./run.sh

# Copiar ficheiro resultante do run para máquina local (correr este comando dentro da pasta de benchmark/results/<nwarehouses>)
gcloud compute scp bench-joel:~/tpc-c-0.1-SNAPSHOT/TPCC* .

# Ver resultados do benchmark na linha de comandos
./showtpc.py -bc TPCC.......dat

# Ver resultados do benchmark com plot de gráfico
./showtpc.py -bc -p TPCC.......dat

# Ver transações executadas
vi TPCC.......dat

# Filtrar resultados por transação e ver na linha de comandos
./showtpc.py -bc -t "neworder" TPCC.......dat

# Filtrar resultados por transação e ver com plot de gráfico
./showtpc.py -bc -p -t "neworder" TPCC.......dat